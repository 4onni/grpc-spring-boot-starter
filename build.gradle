apply plugin: 'idea'
buildscript {

    repositories {
        mavenCentral()
        maven { url 'http://repo.spring.io/plugins-release' }


      }
    dependencies {
        classpath "io.spring.gradle:dependency-management-plugin:0.5.4.RELEASE"
        classpath "com.jfrog.bintray.gradle:gradle-bintray-plugin:1.5"
        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.7.3'
        classpath 'org.springframework.build.gradle:propdeps-plugin:0.0.7'
        classpath group: 'com.netflix.nebula', name: 'nebula-project-plugin', version: '2.2.1'
        classpath group: 'com.netflix.nebula', name: 'nebula-interactive', version: '2.0.+'
    }
}

subprojects {

    apply plugin: 'idea'
    apply plugin: 'java'

    apply from: "${rootDir}/publish.gradle"
    apply plugin: 'nebula-interactive'
    apply plugin: 'propdeps'
    apply plugin: 'propdeps-maven'
    apply plugin: 'propdeps-idea'
    apply plugin: 'io.spring.dependency-management'


    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    repositories {
        mavenCentral()
        maven { url "https://repo.spring.io/milestone" }
    }

    dependencies{
        provided('org.projectlombok:lombok:1.16.6')
    }

    dependencyManagement {
        imports {
            mavenBom 'org.springframework.cloud:spring-cloud-starter-parent:Brixton.M4'
        }
    }
}